import helpers

def solution(str):
    ids, sequences = helpers.parse_fasta(str)
    result = []
    for index, id in enumerate(ids):
        currSeq = sequences[index]
        suffix = currSeq[-3:]
        print(suffix)
        for index2, id2 in enumerate(ids):
            if index == index2:
                continue
            seq = sequences[index2]
            prefix = seq[:3]
            print(prefix)
            if suffix == prefix:
                result.append([id, id2])
    return result

# generated by claude
def solution_hashmap(str):
    ids, sequences = helpers.parse_fasta(str)
    
    # Step 1: Build hash map of prefixes
    # Key: 3-character prefix, Value: list of sequence IDs with that prefix
    prefix_map = {}
    
    for index, seq_id in enumerate(ids):
        sequence = sequences[index]
        prefix = sequence[:3]  # Get first 3 characters
        
        if prefix not in prefix_map:
            prefix_map[prefix] = []
        prefix_map[prefix].append(seq_id)
    
    # Step 2: For each sequence, look up matching sequences using suffix
    result = []
    
    for index, seq_id in enumerate(ids):
        sequence = sequences[index]
        suffix = sequence[-3:]  # Get last 3 characters
        
        # Look up all sequences that have this suffix as their prefix
        if suffix in prefix_map:
            matching_ids = prefix_map[suffix]
            
            # Add edges to all matching sequences (except self)
            for target_id in matching_ids:
                if target_id != seq_id:  # Avoid self-loops
                    result.append([seq_id, target_id])
    
    return result

result = solution('''>Rosalind_7583
TTATGTGGCTGTTGAAGCTGACGGGGACTGCTTTAGATACAACGTCCCAGTAAAGGTAAG
ATCATTATCTTGAGCAGTGACTGTAAAACG
>Rosalind_8837
TAGGCTGGCCATCATTGACTCGTCCCCCATGGCCCCAACAACGACCCAAGTGTTTGACAT
AAGGCCAGGCAAGCTCCCGCCTG
>Rosalind_0536
TGGGCCTGAGGAGACGAGGAACTACGGAGACTCGAATTCCGTCCCATCGTATCCAGCGCC
ACTACTGCCAGGGCTATTTTTC
>Rosalind_4937
AAAGAAGAACGACGAGGATTGCCAACACTAGTTAGCGTAGAAGTGTAATTTTTATTATCT
CTCGATTTATCAAGCGGTTGCACATTA
>Rosalind_1479
GGTGTAGGCAACATAAATGCCTCTCCATCTGTCGTACCCTCATATTAAGAGTTTGGGCGC
CTCTCAAACTTCTATTTGCTTTAGGATTTATG
>Rosalind_9710
TGCGGACAGATATTGAGGCATCAGGAACTAGTGAGATACATGGACCTATCCGAGCGATGA
ATACATGCGTTTGATTAAGCCTTCCATTCGTTTAG
>Rosalind_3379
TTCGATGACGACGATGTGAGACGCCTTAACACTACACTACCAGAAGCCACAGTGGCAGTA
TGTATAGGATTGAATGTCTAAGGGTGC
>Rosalind_2421
GTCGCGAGTGTGATGTGGAGCACAATAGGCGCCGCCATCTAAACTCTCAACCGTATACGC
GGGAGAGCCCGTTGGTGGGACC
>Rosalind_1256
CTGCCACGTAAGGCTGGGTAAGTCCGACTATACTACGCTGACGAGATACCCGTTCGCTAT
CCGATTCCGGGAAAATTGGCTCTGTTCTATCAGCAGAAG
>Rosalind_3676
ACCGACCATATTCACCGCTCCCTCCCGACAAAAAACAAGCGACGCTGCGAACTTTCCTCA
ATAATGCATTGCAGTACTCG
>Rosalind_9406
GGAAAAAGACCAGCTCGGGAATCGTTTCGATCTAACCGTTCCTGTTCGCAGTCCTTGCTC
CAACAACCCGCGTCCAACCTGCCCGTGAGC
>Rosalind_6818
ATTCGACGGTGCATTTGAAATGCCTGCTCGGCAGTCGCGCCTTGCCTCATAGAGGGGTTT
GACCGGGGCCCCTAATTACATTGGTTAGAGCGTTCA
>Rosalind_5270
TTTTCGACCCCGGAGGAGTGTCTGGTCCCCCAGAGGTTGTTTAGTATTCTAGAGACAGTA
GTGGTTTACGCCGTGAGGGGGATCGCCGGT
>Rosalind_7067
AGAAGTCGCCGAACAGTGACAAACTGTCCCAGATTTGCTTGGTTGTGCCCTGCGCAACCC
CCATTGTCTAGCCTAACAGACTAGATGGGA
>Rosalind_1106
GGTCAGTGCTGTTCTTAGTGTACGCTTGGCTTATGGATTCCTAAGGTCGTCTAGACCGCG
CTGACATCGTGAACATAATAGTTA
>Rosalind_0183
TGTTGAGGTGGATGGCCACAAGGTGATTTTTATAGTCGACCTGTTGGGAATTGTCCCCAT
CGGTTCCGGACTTAGCGTCTGCCGAAAATGTTAG
>Rosalind_4482
TCTAATAACAAAACGGACGGTCCAGGGCGTCGTTAAGTCTTCGAAATCCCTGCGGTCGAG
GATGTGTCATAAGTAGCTCCAGTTTCGG
>Rosalind_2822
ACAAATGGGCCGCTTACAATTCCCTAAACGTTATGCATCCTGATACGCGGTCCCTTTTCC
GGTCCCAAGCGTAGTAATCACTTGCAGAATTTCTCGAT
>Rosalind_4360
CGCTTAGGGATCAAAACGATCCGGGCGGCCCGAGATGAGTGCAGTCGCGGTTCATGCCTT
GGAACAGTAAATGCCTGGCTAACATTCTACACAAGT
>Rosalind_5420
GACATCGTGAGGATGGGTTGAGTGGGACTTGCGCTTTTCGTATCCTACAGAGAGCAAGAA
ACGGCGACCGCTACGCTGATGCCTGGGAGACTA
>Rosalind_4365
GTTTCTAAGGTCAGCAAATACGTATTTATCTTTTTACATGTCTGGTTAACGACCGATTCT
CGCACCTCGATTAGACCGCGTAGTAAG
>Rosalind_0662
TCAGTACAAAAGATAGCAATGCCCGTGTCACTGTTCATATGTAGCCGGTATATTAATCGT
TCAGTTAATTGAACGCCGGTCCACTCAATGG
>Rosalind_3812
AAATCGATTCTCTCTTTAGGGCGACCAGAAATTAACTGTGCGCGATCCAGGTGTGGACCG
GGGAAGTGTTGGTAATTACAGGTTTTT
>Rosalind_5119
GGAGATTAGGGCCGGTCCGTCTCCAGTTCGCTGCTCATTACTGTAGGGGTGTCAATGGAC
ATTCAGGTGCCATATCTTGCGGGGTTGAT
>Rosalind_7933
ATACCAGCCTCGAACGACGGCGGCATAGGGTGAACCTAGTTGTTACCGCCGGCGAGGGGA
GTCCTCCAAGCCTCCCGGCCCCTATTTATGGT
>Rosalind_4742
CCGATCTCAATACACTAGCTGCTTAGACTTCATCGCGCTTGTCGATGATCCAGAGGTTGT
GTCACTGCCTGTGAGCAGTCATCAGCGAATAGAGTGAC
>Rosalind_7230
CAAAGGCCTCTCAGCTGTGCTATCGCCGTTTCTGAGGAAGAAAGCCGATAATACCGCTCG
GTCTAACTGAGGAGGCTATCGATCTACGTAGACCGGTGTG
>Rosalind_4460
CGTCTTGCGTCTTACACAGCGGATAACAACTTCGACGCGCGATTCTACAGAAAATGAACG
TTACGTTCATTCAGTCTTGTAATGTCGT
>Rosalind_5231
TTTGATAAACCTGCTTGGCTGCAGCGTCAGTGAAAGGAAGGATATAGAGCGCTCTTGGGA
GTTCGGGCAAGATGGACTGTTAATGAACATATCCGGATTT
>Rosalind_3095
GAGAAACTCGCTAATGTGGAGCCCCGGCCATAACATCCGTGCGCTGTTAAAGTCTGACTC
ATTGAACGGGATGGAGCGGAGGAC
>Rosalind_5494
TGAATCAACGGCGCTCGAACGTCCTCACCTTCCACCGGAGTTGGTGCCACGTCCTTACGT
AGCGACGAGGCTCGCCAGTTACGA
>Rosalind_9583
GTCCAGCGTATATGATCCAGCTACCACCGAATCTCCAGTATCGGATTTCGTCCGGGTCGG
TCTAGTCACGAAGAAGCGCTGCGGGTA
>Rosalind_5052
GTAGCGCACGCAGTATCAGTTCTGGACGCCTGCTAGAGGCAGTTAGCGGTGGCCTCGATT
ATTATGAAGCTATCGCTAATAAGCTCCCTCCGAA
>Rosalind_1340
AGCAAGATGGATGTGTCACCAGACACTCTCCAGCCAGATTCTTGGACAGATACTAAAGCC
CATCACTAGTCGGTTATACGTTTCTTATGTA
>Rosalind_7103
TTCAGGATTTGTAGCATCAAAACTCCTATTCAGGAGATCCCAAGGTGTTTGAGATCTATT
CCTGGGAGGTAAGATACCAACGTGTCATTCCCAAAACTTG
>Rosalind_2757
CTAGGGATCATGCCTCCGAACTAGTATTGTGGTGAAACTTAATCACACTTTTGGCAGGAC
CATGCGAGGTTCCTCAAACGTGATACTTTCAGTAAACTTA
>Rosalind_6333
ACCGCGTCGGTTGATCATCCACACTTCCAAAGGACTAGATGGTTAGCGAACGCGGTAGAA
CAGCGTGCGCGATATACCGA
>Rosalind_2043
CTTAGGTAGTGCGACCACATGGAGGTCCATGGTACGCTGCGACTTTTATGAGTCGCGTGC
AATCCGATTGTCGACCGCGGGTATTTACCCGTCACC
>Rosalind_8854
GGACGGGTTGCAATAATTTAACCCCTTCGGGCGAGCGGTGTATCTACGGTTGCACAGACA
ATTACAGAGTACGTTAGAGT
>Rosalind_6518
CGACCCAAAATAATATATCTGACGAGGACTTCACGAACGCCTCTAGTGGATCTCTAGTTC
TCTCTATGAGCACGCCAAATATATG
>Rosalind_8449
CTAGGTCTGACAAGTCGACGCGGCGTCGGTGTAATCCACGAGTCGTCCATAGCTATATGT
CTTGATGATGTTGGAGGCGATGCCAGTTTACGCTA
>Rosalind_9226
ATCGAATGACCACAGTTAAGTGCTTGATAAACGGGCTCGCTCTAATTTTCAGGTCAGCTT
GGACGTTGATCAGTCGCTTAGTTGATGCTA
>Rosalind_0047
TGAAACGTCCTGTGTCCATATGATTGGTGATACTCTGCAGCTTCCTGCGCGCTGGTTGCA
ATCTACATAAACTGCTCCAGCTAGGAAAA
>Rosalind_6779
GGGTGTACTATTTCAATTAACGTATACTAATCGATCATCCGTCCACGGCAGCAAAATCCG
GAAACAGGCGCTAGGAGGTGGATCGAAAATT
>Rosalind_5362
AAATTAGGAGGTTGGTCACGAAGTAGGCAGCCACCGCACCAGCCCAGGCTAGCCCAGGCA
TCGCGGCATGTGAAACAGCGACATAGCT
>Rosalind_6263
GTTAACAGGATCGGGGGCCATACTGAGATCCATGTTGCTCAACAATTACGCCTCTTCCAT
AAATACACGCGCGGCGCCATATCGCTCACTATAG
>Rosalind_1317
ATGTCTGGCAAACAACAAACAAACATCTACTCCTCTTCTGGTTGTGCTCGGGCACGGATT
GCGGAGGGTAAAAGAATTCCCAATTCTC
>Rosalind_1372
AGTACTGGTCGCTTTCCGGAACTCCCTGTGAGATATGCCTCTGAGTATGCTAGCTTAAGT
GAGCTACCGCCGCTGAATGCGGAGACA
>Rosalind_9076
GCTCCTAGTTGGGGTTCCGCGGCACACTTGTTGTTTAGTATACCCGTTTACCCATAGTCA
CGCGCAACGCATGTCCGGCTACCACAAACTATA
>Rosalind_8995
AACGCATAGTCCCGATGATGTTCCACACGATAAGTTCGATACCGACCATTCCTGCGTATG
ATTTACTTCGAAGAAACAGGGAT
>Rosalind_5064
AAACTCTTTCCGGTTACTGCTGCACCGCTGTAACATCCCAAAATGCAGATTTTTTTGCCT
ACGCGACGAGAGTGTGTTATGGATTCCTCTTGAGGGTG
>Rosalind_4802
TTTGGTTTACGCGGAATAAGGTGTCTCCCCAATGAACTTAGGGTGCGACATCTTTGCTGT
ATTATGAGAAATTGCGTTGT
>Rosalind_5761
GGCGTCGGCTGGGAGTAGTAGCGGCCATGTTGTGTAATGGGTCCCATGCTTATGGCGCGA
GAAGGCGGCTAGGCTAAAATGGCGC
>Rosalind_1888
ATACATCTGCAAAGGTCTGGATGATCCGTAGTAGCAACCTAGGATTAGATTCTCGTCCCC
CCCTTCATTAGCCCACTGCCAGATAAGGT
>Rosalind_7849
AAAGACCCGCTAGTAGGTGCGATCTATTCTTCAACTCTTTGCTGCCCTTCTTGCTACGGA
AAGAAATCCAAGCGGAATGACAA
>Rosalind_2377
GTGAGGACCCAAGTGGTACTAGTTCGCCGTTCCCAGAAATTAGCTTCTGATGAGCATTCA
CGGCGCCCGGAAACTTAGAACCTA
>Rosalind_2156
TTGTTCTTGTGGTCACCTTGCGCAGGGAGGGGCACCTCACATTCGAGAAGTAGGCCAGGC
TAGGATAGCATATATTGCATT
>Rosalind_0466
GTAGCGCCAGGTCTTTGGACGCGTTCGACGTCGCATTAACCGTGGCCTATTTGCCAAAGT
ATTACGACTACCTAAAATATCCCAACC
>Rosalind_3267
TGTACGGATAATATCCACCTTGAACGGTTAGTCTCTACCTTTCAGCAGCCGGTTTCGTTC
AATTTTCACAAACCTTATGTGTGAAGGTA
>Rosalind_6012
CCGTTATGGTGAGTTTCGTCTCTTTGTGTGCTGACTCTTGCTCGATAACTTGACCAGCAG
CATGCCTTTAATTGGTCTGCTCTGTGGGATCTTGCC
>Rosalind_7609
AGCTTTCTGTGTTGTTGGCGATCTTTACCAAAAGAGTTTAAGGTCGCGACCGGTCCGCAG
AATGCAATCGTATCTCCTTTGG
>Rosalind_3875
CTATAAAGGTGACCAACCTCTAACCTAAGAGCCACGCTCTGAGCCAAAGATGATAGTATT
TTATTTATGTTTTTCGTTGCACCCCTTCGATCCGGTACA
>Rosalind_6373
TCTATGTCCGAGACTTTAGTTGCCACGGTGGCCTACACTAGGAACGTTCCCCTCACGGTG
GTCAGTGTATATGGTCGCAATTGCACTTCGGTCATTTTC
>Rosalind_8072
ACCACAGTAGTGCTCATGATCGTTGTATCTGGAGCGCATCGCTTCATTCCACAATTATTC
GCGAACCTTCTATCATTAGTTTCTTTCGACCATA
>Rosalind_6937
AATAATGGCAGGATCTGAATGGTCATACCTACGACACAAACGCATAGCAACAGAATGTCA
CACCCCGACGTACTATTCACCA
>Rosalind_1643
AGGATTACCCAAAGGAATAAGCACGTGGTGCGGAGATATCAGCGCAGCTTGAGGCCTATC
CGTCAGCAGTTGTCGGTACGCTATA
>Rosalind_2076
TCATACTCGGTCGGCCTCGACTCGCAACAGCTGGCTTGTTCTCGTTGGTCATACCCGTGA
TCCCTATAGACGAGATATAGTACCGCTTGGATGGTATA
>Rosalind_5452
TGGAGGGTTGAAAATGTTCACCTAGTTAGATATTTGAGGATCTTCTTAATACTGAGGCGA
GCTGCAACCCACTATGTGTCCCCACGATGGCCA
>Rosalind_1542
CAAAGCTTGTAGCATCTTGATTCACCCTCTTATGAAAGTGCCACAACATACTGAGAATAT
TCAGTACGACTGGCTTGACGCT
>Rosalind_7897
CTCTCGAGTCGCACGGAACGAAAGAGGAATTAGAGGCTACTTGACACTGTAGCGACATAC
TACCGTGACCAACCCAGTCTGAAAATAGGTCGAAGTTCG
>Rosalind_6807
TCTCACCGAGTGGGTTCATGGTCCTCACTGTCATCCTCAGGTGGACGGACTGATTTCCCC
CAGAACTGTTGGACGCAACGGACGCCTGTGGGGGGT
>Rosalind_4148
CTTAGCATGGGGGACGCGCCTTAAGGCTAACTGCGCATTCGGGTTTCCAGTACTTGGCCC
CCCTGTTGCTGACGCGAATG
>Rosalind_8852
CAGCAAAGTTCTCTTCTCACTATTACAAGGGGATGTCGCAGAAACCTGGTCACCTAAAAC
TAAGTTTAAACCTGACCTGCATACA
>Rosalind_3563
GCACGCGCTAGTAGTGAACCCATTTACACGTGACCGAAGAGCTTAAACCTCTGAATGTCA
CAGCAGAGGACGAGGTAGATAAATTCACCCTTCGCC
>Rosalind_2754
AGCGGATGGCACAAATTCATCAGTGGGGGCCATTGGGGCAAGCATGACCTTAAGGTAGAA
ACAGAGTTCCACACGACGAA
>Rosalind_8848
AGGCTCGAGGATACGTCGGCACGCAACGCCGTGGTATGTGCAGCTAATCGAGAGGGCTCA
CTCGTCAGCTTACTCCCCTTATAAGTGA
>Rosalind_0703
CCAGCGTCCTTGGAGGCTCGCTATGGCCAATTCGGCCGCGACTATCAATCCTACGGTCCT
ACACATCTCCGTTCAGAGGT
>Rosalind_9141
ATCTGTGTTACTCTGGTGGCAAGGCAGCCTATGAGTACGGTCATACTAACCATCACTAGA
TTGACGATGGGCAACCGACGACCAGCA
>Rosalind_4552
GTTTCCTCGAGCTCTTACGCCAGGCCCACAGATTACATGGTAAAGGCGATGATCAGCGTG
GGAACGCATCTGTTTGGAGT
>Rosalind_5986
TTCATCCCGTTTCTACGGAACCCTAAGAGACTACTGTAAACGAGGAGACCTGAGTAGGAT
GTGTGAATAGTCAACTCGTTAGACT
>Rosalind_5199
ATATTCCCTCCTCCAGAGCCTACCATATGGCACAAGTTCATTTTTAGCCACTTTCCGCCA
TGATAAAATTGGGCATCGTACCACCTATCACTTT
>Rosalind_5445
AACAAAATGTCTAAAGAAAGTAGTTGATGTGAGTAGCAATGTTGCCATACACAAGCCGCG
TACACGTGTAGAGCTGATAG
>Rosalind_6075
TTACTCACAGTATTCGGTTACTGCCTGGTAAGTTTAGGACAGAACCCCGTCTTTATCGTA
TAGGCGCACCAAGATTACCGTGTGGAAGA
>Rosalind_8679
GAGACTGTGATAGCTAGAGGTTTACTAGACTATCTTGATCGATGCCGGCGAGCTAGCGAT
TTCGGGGTGGTTGGGCTGACGGATGTCGCCA
>Rosalind_6598
CGTCTTCTTCGAAATGTAGGGACCACTCCGCAATACATACTGAGGGATTTATTAACTTTT
CTACGCAGCATAGATGTAAT
>Rosalind_9162
TCGTGACGACGTCCGAGCGCTCTTTACAGTCGCGTGCCACGCAGAACCACTTTCCGGCTA
ACAGCCTCTTGAAGGTTACGCGGAA
>Rosalind_0360
GTGCTCAAGCGTAGATATTATATAAGCATCTGTCCTCCCCCAACGATGAATGCACATCCG
AAGGTGAGTCCGACCGCGTATACTGTCT
>Rosalind_3760
TAACCGTAATACTGCGTGGCGCCCCAGGCACTGGGAGATGAGCTGGACTCCAGTCGACAC
GTATGGGCAGTCCTGCCTCTGAC
>Rosalind_6049
CGACGCTCGGCTAGGCCTAATGCTTGGAATTGTCCGAGAAAGGACCGGGGATACAGGCTT
TTCAAGCTGGCGGGAACCTGTGATGTG
>Rosalind_0115
AAAATGCTAAAGCGAGAATGCCCGATTTAAAGCGACCCTTTCCAGGAGCCTTTTCAACCT
GTTGAGTCTATCCGGCTGCACGGAGGGAAAGCCAAGAT
>Rosalind_3166
CACGTAGCGGCCCGAAGTTGAAGTGTGCCTTCACGCTTATACCCTGAAAACACCGAGTGA
AGGGACTATCCTACGTGACCTGT
>Rosalind_3995
CATGATATAATGTCCCGGGTCACTTTCATGCCTGGAAATCTAAGGGGCATAGGCGCGCGC
CAGTTAATAATCGCCCAACTATGCGACCTTGGCAAT
>Rosalind_5553
TTTAGGCGGTGACCAATTTCGCGGGTGCAATATGGCCTTGTGGAAGTTTATTGCGTCCGC
CACGTAAAAGACTCCATAGACTAGTCGGCGTGGAAGCGAT
>Rosalind_4822
GCCCGTCGCATGCGTTATATATTAAGTGCAACTTAGCTTTTTCAGGCGGGTCGTTCACCA
TATTGTCAAAGGATAAGTTGAGGGCGCAATGTACC
>Rosalind_5427
AGCTTATTTTGAAAAGATCTGGGACGACTTTTAAGGGATCTCGGCACCCACACGAATCAC
GGTTAGATCATGCTAGGTTCACTATTCGTGTCCTGAGCA
>Rosalind_8258
CCAATGACTCAAGCGGAAGACCTAAGGACGTGCGTACCAGCACTGGAACAGCCTCTTTGC
AATCATGAAGCGGAGACCACTACTGAATAG
>Rosalind_5936
CCACCACCAGGGCAGTTGCCCCCAGATGAATTAGGCCAGTTTAAACCTTTTAGGCGCGGC
ATCGCGTAATGACTTCGCCGAACCG
>Rosalind_0614
ATAGTTACATGTTGGATGTCCCAGACCCTCGCCAGTCCTATTCTTGGCCGTCTCTCACAA
TCTATTCTTCGTCTAATGAGTCTGGAAATACTACTACGA
>Rosalind_8781
AGTTATGGGCCCAAGAATGTAAAAGGCACAGTAGAGAAGTCGGAAACGGTACTTGAGTAA
GTAATCTATAACTTTAAACGGGTTGTAG
>Rosalind_2467
GATCTTTGGCTTTTATTGAAAGCTCCTCAAACTTCTTCTACCAACAAGGTGGCTTTACAA
CGAGCATAGGGCGCCCTCCAAGAGC''')

for res in result:
    print(res[0], res[1])



