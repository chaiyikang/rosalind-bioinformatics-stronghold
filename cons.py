def solution(str):
    sequences = parse_fasta(str)
    length = len(sequences[0])
    profile = [[0 for _ in range(length)] for _ in range(4)]
    baseToIndex = {"A": 0, "C": 1, "G": 2, "T": 3}
    indexToBase = ["A", "C", "G", "T"]
    for i in range(length):
        for seq in sequences:
            base = seq[i]
            profile[baseToIndex[base]][i] += 1
    consensus = ""
    for i in range(length):
        max = 0
        maxIndex = None
        for j in range(4):
            if profile[j][i] > max:
                max = profile[j][i]
                maxIndex = j
        
        consensus += indexToBase[maxIndex]
    print(consensus)
    for i, base in enumerate(profile):
        print(indexToBase[i] + ": ", end="")
        for val in base:
            print(val, end=" ")
        print()


    return consensus, profile


def parse_fasta(fasta_str):
    ids = []
    sequences = []
    current_seq = []

    for line in fasta_str.strip().splitlines():
        line = line.strip()
        if line.startswith(">"):
            if current_seq:
                sequences.append(''.join(current_seq))
                current_seq = []
            ids.append(line[1:])  # remove '>'
        else:
            current_seq.append(line)
    
    if current_seq:
        sequences.append(''.join(current_seq))

    return sequences

solution('''>Rosalind_1752
GGTCTCAGAGTCGGAGATATCCCACGTATGGAATGGTTACCAGCAACTCCCCACGCTAGT
CAGAGGCATGAACGAATCCTCTTCTTCAAAACGGTGGTAAGTATGGGCCACTCACGCGTC
GAGGGGGCTTAAGTATATCTAGACGCTAGGTGGTCGAAGGACCAAAAGCGACCATAAGTA
TAATGGGCAAGCCTGAGGCCCACTATTCAAGGTTGACGTACAGACATCGAATGCTTTTGA
AGTCTTCGCGGATCTCGTAATGCAGTTCCCCCTTACCGGGCCAAAATAAAGACACTTTTG
TTCATCTTTACAAGCTGTAGCTTATGAATATGCGTTTATACCTATACCTGGAGATACAAC
AGGTCCTATTTTCAAAAACACTATGGACGTCAGTTATCCCAACGATCTAGGGATATAGAA
CTACTGATGTACGCGGCGACTCCATAGTACTACCCGGCTTCTCGCAAAGCAACTCCATCC
GCTCATGCGACCACAGGAACATGGATGTCGCAACTCCTGAGGTCAGCTCACACGTTCCCA
GGCTGAAGCTAGTGAAAAGCCCCGATGCCGGCCCAAATTCCTTATGGCGCCATGCCTAAA
CGCTCTCGCTCGGTTATACTGAGTTAGCCCACATGACCGCCGTTCGTTGGAAACAGGTCA
ACTGTAATTCTTATGTATAGTTCATCAACTCAAAAGCGGTAGGGACGTGTTTGGACAATA
CGCGCCAGCAATATTTGACGCAATATCGGTGGCTAGAAACCCTGTCCATTCAAGGCTCCC
TTGAATGGTGTTGACCAATCTACCGCTGTGAGTTCCCGACATGGTTCTGCGGAAATCCCG
GCATAAACGAGTCTCATCCAACCAGCAATCCGACATCATCCACGTATGGCTGTGAAGAGA
AGGGCGGTGTGAGCTTCTCTCGGGCACTATACCTCCTTGTTACCTGCA
>Rosalind_3875
CAGCTAATCAGTCCGCCTCATATGCCCCTGGGGAGGAAGCCATCAATGAGCTGCTCGGAC
TAGGGATTCACGTCCACTATTGTACCACCTCCTTTGCAACTAAGCAAGAAGCCACGCATT
GAAGTGGTGGTACACTCCTCAATTCCCGGCATAGCGCTGCGTGGCGTCTGCAGAGGGTTA
AAACTGTATCTCAGGCCTCCCGGCCGCTAGAAAATTAGAGACATAAAGTGAGTTTGGAAA
CTTAACCCGGCAATTAGTGACTCCCGCAGGGAGCGGGTGGTTCGATATGATAGCGGTACA
GTAACCTAACATGAAATTTGGAGGCGACGCGCAGTTCAACCTCTGTTCTATTGCCCAGCC
CTGTTAGGTCATAGTGAAGGACTTATGGTTAATGCCCTCCAACCCCGATAGCACTGATCA
CTAATGTCGCGTTCCCCTAAGCATCGGCCCTGGATTGTCCCTATTCACCAGTTCGCTTGA
GGGCGCCTTCAACCACCGCAGCGGTAAAACCTGTCTACGCGTACGGCTTACCAGTCGAGG
CCAGCGGACGTGGATGGAGGTACATCAGAACCGAGCGTAGTTCGAATCACAATATTCTTA
GCTTGTATCACGTAACGGTTTTGTTCTGATCAATAAGATCTCGTCTATACCGGATTATGT
TATAAATACCCTTCTCATGTGAGGCGGGATCCATGCCCTTCTCAGACTCATCACACCTTG
TAAGGGAGAGGTTCCAGTTTATAAGCGATGCCAGTTCCGTTTGCCCTTGGTCAGCTAACT
AACTATAGCTTTTTGAACTATGCTACATAGCTTGGGTACAAGCGACCGCCGTAACGACAG
TGGCCAGTTATTGTCAGAGCTTGCCCGGTGCCGAGCCGAGGGGGTTCACTAGATGGGACA
CAGGAATAACATCGGCAGAGACACTCTTGCACGTACCGATAACCTCCA
>Rosalind_9303
GTCAAAGAGTACAGGATCCATGATCTCGAGAAATAGGATAGAAATTCGTAGTGAAGTCAC
CCGTGAGCGCCTATCATGGCTCGCGCTCGATGGAGGTGTGGTATGCGACCACGACGAGAG
TATTTGAGCGGGGTCGGTCATAGCAAAGGCCCTTCAGACATTTCAACTACACCCTTCGTG
AGTAAAGCTATCTTCGGGGCTCACGAGGCCATTTACATGGCGGAACGCGGCAGGAGTCAT
GACCAGAGAGACATTTCTTAGAGGCGGTTTAGCATACCACGATTATTAGAGAGAAGCACG
CGTACATGCACAGGCTGCATCCTGCGTAACGGGTCCCTATCTATATCACCGGCGACCCTT
GAGGCCGATTTTACGCCCTCATTTGGCCTGATCATACTTCGGCAATTCCCGAACTACAAT
TAAGTTCGATGAGAATCAATAGACTCCTCCTTTGAGGTGGCTACGTGTATCGACGGATTG
CGTTTTGAGGTGGAGGTACACTATGTGGCAAAGTGCGTCCTAGAACCCTGCATAGCAACG
AAGGCAGGGCCGAGATAACGCTCTAACACACGAGCGAAACTCCATGACTCAGGGCGATCG
TCTAAGCAAGCCATCAGTTGTCTGTAGAAAGTTGGACCGCCCCTGGTTTTAGTGTACCAG
CGCGCAAGAACTTAAAAACCCTGATAGCTTATTTCTTTGAAAGCTCCCGATATCTATACC
TGACGGCATACTGTGTTGTTTTAACAAAACGACAGTGGCTAGATACAACAATTATTGCAC
AATGTTCTACGTGCGGCTATAATTATCGCAACCTAATATCAATACTAAATGAGCGAATTT
AGCCCTTCCACTCTATTTGGTTAGGTCTCCCCCGTCGCATCAGTCCGCCCACACGTGATC
CCGCATGGAAACCGAGCCCCATTGGATAACTATCTCACTGGTCACGCG
>Rosalind_7222
CTGACGGCTTTACATTGTGCCGGCGAAGCCCTGAACGCTTCGAATGCTCCAACCGCTTGG
CATGAACGCAACGTTCCTTACTCTTCAGGCATCCTCGGCCTGTACATGTAGAGGGGCTTC
CACGCCTACTCCGGAACTGTTGAGCTTGGGGTTCAAGTGTCCACGCAAATCGCAAGCCTG
GGAGACCCGGGATAAGAGAGGTCGCTTTTCCATGGAGATAAATTCAGCCTGAGGCGGCCG
CGCCGTGGCGATAATGATGCGGCAAGAATTTACGATCGGGTAATGTTCGACGAACCAACT
CAATTGGCAAATTCAAATTCTAGTTGGGAACCCTGTGTTCTGCATAAAAGTCGATGTTAG
GAATACAACTCTTCCTGGGCTGCGAGATACCATTCTGGTAGTGACACCCCATCGTGTTAT
GGAACGTCCCATTACGTTGCTGTGTCAGCGAGGAAAGTCGAGTAAATCGTACTTCACACT
ATCGATCGAACGATTTTAAACCCTCGTCTGACATGGTATCATACGTTACAACCAATCTAC
TGAGGTGGACGTTCCATCGGCTACCCGAGTGTCGGCGAGAATAGTATAGAAGGATCCTGG
TAATAAGGGCGAGGCCCACGAGGCACAGACGTTTCCCTAAAAAATCCTCTCAGACTGGGA
ATGAACACACCTATATGCCACCGTTTGAGAATGCCCAGTTGTACTGGGCTGCTGAAATCG
TTTTTTCACCATATAAACCTGCTATTGATCCCATTAGGAGACTCACGGAGCTCCTAGGTA
GGAAGATTACTATTTTCTCCGAAATTACCGGGACCCCGTGCGCACGACGCATTTCCGGAT
CGTCAATGCCCCTGCCTCATTCCCTTCTAACAGGACCATGCCCGACTGTTCCAACTGTGG
AGCCGCCCGCGGGTTGTAAGGGGTTGTAAAGGCCTCCTAGAAGGAACG
>Rosalind_9950
TTGGCACTCACATCTCTAATGTAGCATTTCGATGAATACACATGGTCCGTAGACGTAGTG
GTAACTGCTAGTAAGCGTCATAGGGAACTCTCGCTTTCCCAGTCTCATCTTAGGCCAGGT
AATCAGAATTCTTCACCCCCAATTCATTCTGTAAGCGGTGCTCTGCATAGGCCCGATATC
CGAGTGGAGGCTGTAAGGCGCTTCTTTACGCCACATCAATCACCAATTAGGTCGGCTAGA
TGTTTTCGTCCCGTGTATCGGATATAAGTAGCTCTTCAGTAAAATACTGAGTGGATAATA
AGCACCCATCAAGACAACGGACTATCTTGCCGCCACGGACCGGTCCCTCGGCGTACATTA
AAGGTGAAGCTCTCCAATTTGCCCATTGTGGAGCTTCGCTCTTGGTCCCGGTCACTATTG
TGTATCTAGAGCTTCATAATACCTCATCCTCACATCCACTGGTGAGGCGATTTATGATAC
GGTTTCACGTATGACGAACCCGAGCGCCATAACGGGCGTAACTGAACCTCCTGAGTATAT
TGTAGGCCCCGCTAGACATGGAGTCTGTGCATCCCGTGTCGGAAGTCAGCATGGAGCTTC
CGCGCACTACTCAAGCACTGCGAGTGAATAAACTCCGCTAGTACCGTATAATGCTGCATA
GTTCCAATCCCTAGTGTTACTCACGAGCTCTCTCACTGAGGTTCAGTGCATGAAATTGGT
TGCTGTTCGCTAAGCTCGAGAACCGGTTCTAGTCCGCAGACGTCCCTCGTAAATCCATGA
CCAAGCGTGTGGACCAATTGAGATTATCGTCGACTCCATTCTCGTGCCGCAAACAACACC
CATTTTCCTTGGCTAACCAGCAGCTGTTACGCTATTTGTGTCGAGTACCTCGATCATGGA
GTTGATCTAAGGCACGAGCTCGGCATAGGAATGAAGACCCGTGGCAGT
>Rosalind_7376
CTTGTCTGTTTACATCAAAGGCGTAACGCTCCAGTGAACAGCCCTACTACTAAATCTCCG
CCGAAGTACCGTCAATCAGCATTAACTGAGGCCGATGACATGCTTGAGGACGAACCCTTA
CTTATCGCTCCATCATCGTACATGCCGATGCACGTCGGAGGATGAAGCCAGTCGGTTTAT
TTAACTATACCAACTGGACAGAGCCCTTACGGCGTCGCTTTCGCTTAGAGCTCAATACAA
CCCGTACTTGGATGGCTCTGTGGGGGAACCGTGCGGAATGCCAGATGACCGGACGACAAT
AGGGCCTACCACGAACAGCAAGTTGTTACGATCGATCCGGCGACAATGCGCATGCTCATA
ATTATGGGTGCTGCGCGTTGTACACGGTTCAATATGTCCGTTCGTGAACCATCCACATAG
ACTGGAGAGCGACCCACACATTCATTCCACAGCGTCCCATTAGAGTACTATAACGGGGAG
ATAGTCATTAGTCACACAACAATTTGCCTACATATAACACCGAATATCCAAGGCCGTTGC
TATCCGTAGCTGCAATGGTTCGCCTTGCGTGTGGTGTCCTACATTCCATTGGGCGGTTGG
CGGTGAAATACCGGAGCACGAGGGAGGAAATCGCCCTGATGAAATCGGGACTCTACCAGG
CTGTTCTGAACAACCAGCCCCCGGCAGACCCGAAAATCGATCAATAACATCGTTGGCACC
CTTAAGATACACGCGGCTGGTCAATTGTAACATGAATCGACCATTGTTAAATCAAGTTAG
TAGGTCGTGAACTCTTTTATAGTAGAAATCTCACAGCTCCTATCGTAAAGACTTAGTCTC
CCCAAGGAGAGTGAATGCAACTTCCACTAGACACACGGGTGTTCTGCCGTAGGGTCAATA
AAGCTGGAGCACGGAACTCGTAACCACTACTTAGCCGCGTTAGCTCGA
>Rosalind_4391
GTGGTAGATGCGGCGAATTTACCACTACGTCGGCTATAAAAGGCTATTACAACACTATTA
GCTGTCCGTACAGGGGGAGAGATCGGCTGGCGCGAGTCAGGACTGGGGTGAGCTATAGTC
TATGCCAGTGTATTCGCAGTCCTTGGCACAAAGTATACCAATTTCAGACTCCGTGTCAAG
TAACCTTGAGGACAACACACTATATGCAGTTTACATGCGCGGGGCGCGCCGCGGGGACAG
AGTACAAGAGTTTTTACAGCAGCTTCTTTTCCATGCCTTGGGAATACCACCCAATAAGAC
TTATTTGGCACTCTAATTCGTTTTGAAATAATCACGGTGGCACTTGTATGACGGTTTGTG
CCTACCCCCTAGAGCGTACCTGGCACCTGGTATGTTCAGTACTCCCCCATTTGAATAGTG
TAAATCGGTTGCGTCCTCAATTTACGTGGGTAGTATCCTATTAGCGACCCGATTTTTGTA
GACCGGAAGGTGTGGCCATGTCACCAGCGAGCGTAAGCCTGCTCTACATTGGTGCGTACG
AAAGACCGACGGTGCACCACGGTAGCCATTTCCTAGGAGCCCCAATCAAGGCTGTAACTG
AGTGAGGAAGTATCTCAGCTAAATTGCTAATGCCAATCACAACTTTTAAAAGTAATTGTG
TTATGCCCAAATGATTTGAAGAAACCTTACCTTCTGAATGCTGTATATAACCTAGATCAA
TCTCATTCCCTCATGGTCAAGGCCGAACGGATCGCCTATCACATCAGTGACGACTGTAGT
ACTTGACGTTTCTCAGTCTCGAAGACTGCCCCGATTCGACCTCTACATGGAATAGATCAG
TCTCACTCTGGCCGTATACACTGTGTTGATCGGTCTGGGTCGGTCCACAAAACTGCCCTG
ATCATCGGTCTGACGTATCTGAGCCCTCGCCGCCGACGACGTATGGGC
>Rosalind_6538
CGCAGCCCGTATTAATGTGCGTAGCGTCTCATAGTTGTAGGGGATCTCCCTCTGATTTGC
TACGATTAGCAACGGGTCCGTGGATATTAACATTAGTGCTGCCTTGTGTCTATACACAGG
TTACGTCAATCATGTGTCTAGATGTCTGTACTTGCCGCTCAATGCGCCAACATGAGCCGG
TATTATAGACACAACTACTAGGCTCGAGGAGCTGGCTCTCGATGTCGGCCAAGCAGCTCG
AGCAGCTCGGTCAAGATTGACATTAACTTATCAATGTCGAGACTCTATGCTCTGTGACTG
AAAGATCTGGCGGATACATGGTCAAAAAGGATACGTCTCCGATAAAACCTTGCTTGGATA
GCTACAGATTGCGTTCCCCGTGTCTCTAAACGTCTCAAGTTAGGGACTACGGGATCATTT
TTCCGTCGGGCTGACGGTTTCAAACTCCCCTATAAGGAGTCTGGCGAATTTGCAGACGAC
GGTTTACACCAGGTATCGCGGTACAATTTTTTATAATTTCATCCGATTGAATAGTGGCAA
CGCGGATTCCCGAATTAGATTTCCTAAGCCGTAATCCAATCACGTCTCCGAGCCTCGCTA
ATTGGGTTTTTGTGAAATCGTAATACACCGAACCCTGGTAGACAACGATTGCTCATGGCC
TCTTAGGACACTGGACAGTTTGAAGCTATCCTGCCACCTAGACGTGGGCATATAGCGAAC
CAGGCAATTGAAGTCGTACGTGATGGAGCTGAGCAGTACACGTTGATCGGACCAACTAGA
GCAGATGTCCAGGAGAGTTTTACTATACCGCCGCCGCGTAAACAAAGACTATTCTAGGAG
AATTTGCAATACCCTGAAAGAAGTAGCTCAGTAACTCTCCTCAACGGGCCCTCCAGGTAT
TCCGTGGGCGCATCTCCAAGTACTCCTGATAGGGCTTACGGCGGTCCT
>Rosalind_2839
AGGTTGTTGTCGCTTCCACCCAATTGGCCTCGGAACGAAAACTATGAAACACAACTATCT
ACCCTTACCAATTCAGGATCTTCTCCTTGCTAGGCCGCTACCAGCCCTATGGAGCCCATC
TATCCTGGTATTGCAAAACTTGTCGGAAATAGTTTCGCTCGATGTACGCTAATATTCAAC
TGACTAAGGCGAGCTTCATCATTATCAAGTGGACGTGAGATAGAGTGTACCGCATTAACC
GCAATGGGCGAGGTTGTGCGCAGGTTAATAAGCAGGGTCCCATTCGGAAGTCGTACAATA
CCTGCGCGCAAAAGGACTATTCCTCTAACCCCGAAATCTAGACCATCTAACTGAGCGCGG
GTGGAGCGATCTCGCTACCGTTCGCGTATAGAAGTAATGGACCGCGACCGCGGGATCATC
GTTGAGCTGGAAAATGCATATTGTAGGGTATTCCACTTACGATCTTGCAAGGGTGGTTGC
GGGGTTTAATATCTCTTGCTCTGGGGCCAGCCGAAGGTGGAAGCACTCGTGCATGGTACC
ATTTTCCCCAACTCATCCTACGGAGTTAGTCCCTACAATCAGCGCTAAATGGACAACGGA
AACCTTCCAACATGCCACTACCCAGAGAGCACAATCGATCTCTGGTTTAAGATGTGGGTA
GGTCATAAGATATTGAACTCACCGTGTACCCGCATTAAAACGGGGCCCACCATAGAAGTT
GGGACCAGCAGCTATGACTGTCGTGATACACCACAGAGCAACAATTGTCGTTATATGGTC
ACCCCCTCCCGAGGCGCAAATTACCTGACTGGTCCGATATGACCCATTCCGATCCGCTCA
TGAATGCTCTTTACAAGCTTGGTCCCAAGCGCTGTTTCCATAAGCTTTGCTCGGTTGTTC
CTCTTTACCCTGAAAAGACGGCCTGGAGGGAGCTTCCCGCTTTCTGTG
>Rosalind_6559
ATGTCCCCTTGTTCAGTATTCAACCAGGGTAAGCCGTGCTCAGGGCCCTAGCCAGTGGCG
AATCGGGGTTCATGAGGTCCGCGATTTTAGGGAGGCTCTTCCGCGGTTTAGCTATAGTTC
GGGCCATTCAAGCGCGCATCGCAAATCTCACGCACCTCTATAGCCAAGCTGGCTAGATTA
GCCAAGATCAGCATAAGTTCCGCTGGCGGCCCTGGGCCCCGGTAAATGTGTCATATGTTT
TACGGCAGTGGTCGCAAGCCTCGGTAGGTGCATCCCAGTCGGCCAGAAAAGTGACTTCTC
ACCCATTGTTTCGGATGCCCATGTCTCGAAACATTGTAAATGTCCTCAGCGGCTTAATAG
GCATCAGTATCGTTGGGATGATACTCGTCTCTATTACGAGGTGCGGGTTGGCTCCGTAGA
GGGTAAACAAAACCGTTGGTCTACAGCTTGTATACGTACCACGCGAGTGTTTCCCGAACC
GCGTGTGGCGGGGAGCGATGTGACAACAGGACCCACCATGGTACGAAGTTACACGACGAC
GATATTGTGTATGACCGATGGACACACAGAGGGGTGCCCGAGTTAGTATAAAGTAAGCGC
TTAAGATAAATCCCACTAGTCAGTCTGCCCACACGGGAAGATAGAGACGAACTCCGTCGG
CTCTGACTCCCTGCCGTCTGGATATCATTGCAATAGAAGTAGAGATTCGGAGTAGGCAGT
TATCGATATTTTAATCTGTTAATTGAATGATTTTCGTGTTAGGTCAGATGTCCCAGTGCT
ACCCAAACTGAGTACTGTTGCAGTCTGTACCCCTGTTCTACCGAGCGTGATGTATATTAT
GTGCGTATTAATTACAGATTTTCTTAGGTGGAGAAGACGGATTGGTTTTTCAGCTTAAAG
TCCCTCTGACCGGGGAGTATGGTTGTACGCGGGCAGTAACAGCGTCAA''')
