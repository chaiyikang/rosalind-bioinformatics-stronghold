from collections import defaultdict

def solution(input):
    sequences = input.splitlines()
    nodeID = 1
    edgeList = []

    def helper(root, seqs):
        if not seqs:
            return
        nonlocal nodeID
        distinctFirstChars = set([x[:1] for x in seqs])
        for firstChar in distinctFirstChars:
            filtered_sliced_seqs = [y[1:] for y in seqs if y[1:] and y[0] == firstChar]
            nodeID += 1
            edgeList.append((root, nodeID, firstChar))
            helper(nodeID, filtered_sliced_seqs)

    helper(1, sequences)
    
    for edge in edgeList:
        print(*edge)

def solution2(input):
    class Trie:
        available = 1
        def __init__(self):
            self.label = str(Trie.available)
            self.child_nodes = defaultdict(Trie)
            Trie.available += 1

        def add_child(self, child):
            if not child: return
            self.child_nodes[child[0]].add_child(child[1:])

        def print_trie(self):
            for char,child in self.child_nodes. items():
                print(self.label, child.label, char)
                child.print_trie()

    T = Trie()
    for s in input.splitlines():
        T.add_child(s)
    T.print_trie()

solution2('''GGAGGGACATACCTCAGGCAACACGGCGCAGATCCAGCATACACGCCCCGCGACCTAGGAAACGTGTGCGTGCTATTTATCGGCTGGCATT
ATAAGTGCGCAGCAACGCTGCTTGGTCATCGGGTGACCTTGATCCGCAAATGAAACACCTACAGCGAGGCTAAAACTTGCTTCCTACGAGTACGAGGCA
GTGAACGGAGGCCTTCCACGATCCCGTCGAGCTTGCGTATGAGGTGCGGCTTATTAAAGGGGAATTGCAACACCGGGTTACAATGTTTGAAATACACA
TCAGATCAACGCTAAGGCATGTGTCGTTGCCGCACAGGCTTCCCATGTAAATCCAATCGGTTGTTGCTAGCTAATTTTAGTTTGCCTG
AGTAACAGCATATGATACGGGTAGAATATCGCAACTTATCATGAATTCATATTATACCTCCCTTTGTCCAAGTACATAGCG
CTGTTAGAAGTGGGGTAATTAGGCAACCAACCTCAGTATCGAGGATGCACGTCACCACACCACCATTCACGAACAGTTGGG
CGACGATAATGTAGATGGATGAGCTCTGTGTGTTTGAAACAATATATTTTACTCTCCAGTATTCCTAACGCAAGAACTCGGGTACTACCGACACAT
GAGTGCAGGAATGGCCTGCCATCCTCCGGATCGCTCACTGGCCGTTAAAGTATTAAAAACTCCCTTTAAGACATGTATTGACGTCTAGAACAG
CACTCTCAAGAATTCTAGTAGCTTGGCACATGCAGACTTTTTAGCGTCATATACCAACGAGCCAAGCCTCCCCCGCTGATAGGCGTTGGGCCTGGTTG
CCATTGTCTACACCCCGGTGGAGCTCGACCTGACTCCGCAGCTTCGAAACACTTATTGAGGGATTGGCCCGCCAGTAAGACGT
CGGCATGCAGCTACTACAACTACCTTCGGTACGTTATCCTCGCCGACGATAGGTTACCTTAATACTGCATAGGGGTCCGGTGAT
AGAACTTAGCTTTATGCATGGAGCTGCTGGTCTACCTAACAGCCGGACACCCTGAGACTGCACCTATCGAAGTACAGTCC
ACTTGACGTTCTTCGTTTGCTCTCCTCGGTGGCCAGGACTCACAAAACTTACAGGTTATGGGGGTCTATTGCCGGCTATTAC
CTGCTTGTGGATTATAGTTAAAGACAGACAGATACTCCCGTCTCCCCAAGAAGCCAGGAATCGTATGAAGCGCACAATGTTCACAGAA
AGCTGTGGCAATTATGATCGGCCCTCCTCTAAGCGGTTATCCCCCCTTTGACCTTACCGTGCGGCTATCATAGGACAGTGGTTATAGTGAAC
CCAGGATACGATCTTTGCGAGTGGAGCTAGATAAGGTTCCTTTACACCTGTAATCTACCTCGCGCTTATGTTGGCGAGCCCA
TTCATATGTAAATCACGTTAACGCGGTAGGCACCAATTCATTGCGGGTGTGGTATACTTCGCATCACCTAGCTGCATCTCTTTGTCGGGTTATATTGT
ATAGCCGAGCAACCACATAGACCGATCGCCCACAACTGGCTCACTACATCTCAGAGTAGCGCTGGCATATAGCAAAGTAGCGCTAC
GAGGAAAATGCCACCCATAAGTGTACTATGTGGTGCTTGTGCGAGAGTACGGGGTCCAAGCTAACTGGAGAGCAGCTACTTACGTCTAGCCGGAGTT
GCGCAAGAAAGATGCAACAGCTATGAAACCGGGGACGTGGCAACATGATGAGCATGACCAGCTTCAGAGTTCGATTGGACAACGTCTACTTTAGTTA
CCTCGGGTAAATGGAAACAAAAGTTGGGGTCCAGGAGCTGCCGTAGAGCTTTCGATCTTCACTACATCTTAAGTTTTCAACAT
GGAAATAAAGTCTGAACGAAATCTGGGTGTGAGAATCACAAAAGCTCGTACGAGGATAACTCGCCGCCATTTTTATATATG
TTCATATAGTTGGCTTTTCCGTTATGCCGCAAAATAAGAGACTCTCCGCTGCAATAGGAGGACTCCCCAGGTATTGTATTTGATTGTACGA
TCTTGTCCTTAGAGCCAGGGAGACGCACTATGGCCTTCCGATCTGAAGAGAAGGGTCCTCATGGAAATGAGGGCTGACGAATTTC
CGATGCTTAACGGTCCAAGATACTCCCCGACCCATCCCTAACAAGAGGTTCTGATGTCGGGACAGTCAGCAATGTGTGCTAA
CCGAGTTCGGTGTATGGTGGCAACCCGTGGCATCGGGCTGGGGCGGTTTGGAACAGTCGCGTGGTACCGCCGACAATACTGAAGGGGCTTACCT
TGGTGGTGGAGCCTCTACATAGTATAGGGTAATTCATAACACTTGCAGATAGCGTGGATCTTGTGCCACACGACGTGGGCGAGTCTACTCTTCTTCATGA
TAAAGGATTTTACTACCAATGAGCAAAGAGACCTCCCTAAACTGCTCTACCCCAGCGTGTTAAACCGCTCCGAGAACGGGAAGTGAGGCGACCGCCAA
GTAATAGTCTAGAAACGGCGACATTCGGATCAGTCTACCCGAGCCTACGACCTCGGATTGGGCTTCGTCCGCTCACGCCACCACCCTGG
CTGCCGAATTAAGCCGGGACAGACAGAGACGTCTCCCATAAATACCTCCAATATTACCGATCCGAGGACTCGGTAGGGCAGGGGACGAGAGGACGTC
TATGTAGGTTACCTTCCTTTGAAGTCCCTAGAAGCTTGGCCCTCGGCCGCCAAAATCATGTGACTGACGCCCGGGAATGGCGATTAATGACGC
TTTTCCTAGCTATATCTTAGCAAATAGTGCGTTTGCCTTTGCGATGACCTTAGTGCAAGGCTCAGAACTAATTGTTATAGTGGACGCTCATACCAGCGTC
TACGCTGCCGCCGCGGTTAACTACTGTCACGGTGTGCCGTACCTCTTCGGATGCCCAACCACAACGGAAATTCCATTTTGAGCCTCGTCCA
ATGATGGGATACGCGGTGCATGAGGGTCCACACCCATTAGTTCTCGTCTTCAAAAACTTTACTGATGATCTAATTATCCTTGCATGGGCGAAGCT
GCGTAACGTTTCAATTGTAAAACAATAAGCCTAACAAAACCACCCATCTATCATGGCAGTTTACCCCGGCCGTGTATTCAGGTTTCCCTATCAA
GCTATGGACAGCTGCCAAAACCGGCCGCATAGAGATTGTTACAACAGCTAAAAACTAGCGATTGAGCACTTGAGAAAGGTCCGACCCCAAA
TAGGCGCGGGAAGAAAACTGAGGGTCGGGTCGACGCTTGATGGATGATGAAACCCTAGCAAAGCGCTCTGGTTTCGGAGAAGACAAATACGCGCG
TAAAAATATGGGCCCCGTGTCGTTTGAACAGAGAAACTCAATCTATACGGCTCGTTAACCGGTCCCGCGCGAGAACGGCAACCCTCGAA
TCGACACCCAGCCAAAGAGGAAGACTATGTTACGGAATACTGCTCACGGTAATGAAGAGACACAGGAAGGGCCTCGGTCCGACTCA
GAACGCCATATGGTTTTTTGGCAGACTGGCCAAGACATAGATCTACATGCATCGCCACGGGTGCCCAGTCACTTTCGTCGACTATCTACCC
AATCCCCGGGTCAGACGTACTCGTAAAATTAACCGGCGGACCGCGTACTTGGTTTATACTAATATTCACGTACTTATTGAGTAGATATAGGTAGGACTGG
TTCCATTACACTCACTGTGTACTGAGTTGCACGGCGTGCTGTACATTCTCATGTATAATCCGGTAGTGCCAATGGAAAAAA
TAGCTACGTCTGTTCCCCAATACCTGACCGCCGATCCAGCTGTACTACTTACCTTCTCGAGGGTACAGCTTAACTAGGCTTCC
CATACATGCTGCTCGGCCTTCCCAGTGGGCGTGTTGTTCGTTCGACCATCGTAGATATTGCGACGGCCCATTGCTTGATCAAACGGTTAAACG
TACAAATAACCACCTCGTCTTTCTTACGAGTTACAGAATTTATTAAATTCCATACCATTTTCAGAGTTTCACTTGCCGCCC
TGGCCTATGTAACAGTCGTAGCCACTGCACGGTGCGATTATCCTACGTGCGGGTCGGCACTTTCCAAACTGATGTTGCAGAACCGCGGCAA
CGTAACTTCTACTACACGGACCGGCTCTATTCAACTGATGCACTTGAGCGGGTATGGTCTTGGCTCCGGGCTAAGATCGTACGCCATACTAAAGAGCGGG
TACGATCTTCTTGACGCAAGCTACTCCTTCGATCTGTTTGACACAGAAATGGGAAGAGGACAGGAGTAGCGCAGGCACTCGACGCAC
GTGAACCCACCTTGGGAGCCATGGTCCACATCTGAATATTGTGTCACAGTGGATCCTGACTTCTACAGAATTTATTTGCTGTGGGTTCGACA
TCCGACAAGTTGCGATCGTGCGATTCACGATCTATGTCCTCGGCAGGCGATGGGCCCCACACGAGCGAAAGTTGAGTGGACGAGTGACTGGTGTTTCAG
GCACGCGTGCCAAAAGTTGATGCCTTGACAATTTGCTCCTAGCTCTTTGTTCAACATTTCCCGTATCTGCAAAACATGACGTGCGGTAACATGAGAC
TTCTATAATCCACGAGGGCGGTGTCTCTCGCTCACATCGAGCTAATGTTCCATATTATATGTGTCGGGAAGCGAGTCCACCATGGCG
ATCGAGACTGGGCCAGAGTACCCGGGTATCCGGAATAAGTCGCCATCCGATCGTCGTTCCTGCAAGTCATTCGATTGGCCGGCCTT
AAATGGCAGCAAACGAATATGCCCTGAGGAACCGCGTAGAAGATTTGGGGAGGTTCTCGACTAAGAACCCTTCCGGACTA
GAAAGCCCACCGTGAGTTGCATGGGCCCTGGACAACATAATAAGATGCGTAGCTATCCACATGCTACCCCTAGAGCAGCGGGGAAAAGCTTG
GACTACATATCAGGGGTGTAGAGATGTGCTGATATCCCAAAAACGATGCTCGGTTCCGGTGTCAATGTAATCCACGTAGAT
GTCTGAGGACGACCTATGTGCTTCTCACAAACATGCGTTGACATTAGCCTTGCCTGGCCCGAGCAGACCGCCAACCCACTTACGT
CTGGCGAGGAGTGTATTGTGAATTCGCGACTTACCCCTACCGGCTCACCTTGTGAGCTCGGGCGATGAATCCTGTGTTGGACGAACAAAAT
GGCTGCAGTACGTGGGCCGTGGCGCACCATCGCTTGACATGCTAAATGCGGGGGAGAGAGGGAAGCTTCTTCCACTGGTCCCATGCTGACGGGGGAAGTG
ATCTTCGGAGTGACAATATGGGCACATGGATACATACAACCCAAATCCCCTCTTCTAAACATTGCACAGGAGTACACAGTGGTACACA
GAACAAATGCTGCGGTCATGGAGTGGTTCATGCAGAGGTACTTTTGTCACACTAGGTACCATTGGCAGCTCAGCTCTCGGTG
CAATAAGGCGATTATACATAAACAGTAACTCTTAAGCCGGTTCTTCGAACAGTAACTAGGATTATCGGTGTTCAGTAATACTAGTCTCTGA
AGTTTTCGTCAATTCTGTTAGAAACACAGTTATGAGGCTCACACCTGAACGCACTTATATTGAAGGATGAACATTTTACA
GAGCTTATGCCGCATTATGGCTGCCCTGGGCCGTAAGAACCAGCTGTAGGCCCAGATCATGGGATGTTACCTGTTCCGCGCGTAG
TATGACATCTCGGCTCTCGGCAGCACCTCAGGGCACTGTCAGCCACCTAGTGTGTTATGGATCCCTCACAAGATTCCTAACCGAGTTATGAATGA
CTTCCGCTATTGGCTTGTCAGTCGTTGCCCGTTTTGAACAATTGATAATGTATTCAAGAAGTGAGACGGGTAACGTAGCAGGCCGGAA
AAATCCCAGCGGGCGAATCCTCGAGAGTTTTGTCATTGTCCAATGTCAACGGGCATTGACAAGAACAATTTAGTTGACCCGACAACA
GCCAGCTCGCAAAGTAAGTTGCTTAGATAATGATGCATCCCGCTGCCGACATCGACCTCGATGGGTAGCCAGAGGTAAAGG
ACGCGTCCGGGCCTAGGTGGTGCGCGGCACCGGATTCTTTAAGCGCCTCGATCCGCAAACATTAAAATAGCATCCCTATTGGGCTCT
TAATGTTCGAACGGTTCTATTAGTATGAGGGTTCACCTACATATGCCATTGCTTATCACTGATATTCCGCTATTCTGTATCC
AATTGTTCTCGGTTTAAGATTAGATAGAATGATTCTGCACAGTATTATTAGTATAGGTGCTTGCAACGAAGGACTGGCTCCGGGGATTGCGAAACTT
AATTAACTAGTAGGTATGTACTTCCGAAAAATTGTTAGCATGCAAGCCGGACCCTGTATGCAGTTGTGGCCTTACGCAGCCCAAAAGGTTG
CTGCGCATGCTGTCTAGTCGCCACTGGAGCACGCGGGGTAAAGTACTTACTGGTGAATCGACAAGAAGGCACCCTGTTTATACCTTCTGCA
CCCTCCCATCGACAATGTGTGATTCCACTGTAGCGACCCCCCTATCTAGTATTTCCTTTTGGAGAGCCATTGCCTTTCGT
CAAATTTTGTCCGCTATCAGGTACGCCGACTGCATCGATTCAGCCGCAATGTTGATGGTCGGACGGCCACGTCGTGGCAAG
TTTTCCCCAGATTTCCTCTGCACAGATAGCAATCCAGTGAAGCGTACACATCAGCGGGGAAACAAACGTCCCGTTGGCGGCCGGCAGTTAAGTT
CCCGGTCTGTTTCCTCGATCAAGAGGGGTAGATAATAAATACGTTAATGGACGAAAGAGTCCCGTACAAAAAATGACAGCCACTACAAGCATGGAGTTGG
TCGGTCTACAGCCGTCACTGGGGACCCCATGGCTCATCAGTGACTGCTACAATGATTGCAGTGTCCAAAATCACCCTAAGGGAGTC
TCCATCGTACTCGTTTTATGACACCCGACTCGTGGTCAACGTTGCTGGATAAGCCCTAAACCGCCTTGAGCCTGGGGCTTTTCAGACCATGGGGTA
GGCAAGACAGGCAAGCATAAGTTAAGTCACAAAGGGCGAGGTCCTGATCGCACGTGATAGGGCTCGGTAGCACGAACGGGTGACGCCTTTTCAGCAAACG
TACCGATCTCCGAGGACAAGTACTCGGTGTTTTTAAGAGTAAAGATTTAAATATATAAACGCTAGGGGGGCCAACACATTGGTCAATCCTGCACAG
GAGAAGATGACATCTAGGGTTCAGGCATGGGCATTAATAATGATGTCGTCGCTTAGATCTGACTGGCCGGTTTGGATAATGGATCAGGGTGATTGC
ACAACGTATCTTCTAGAGTAGTATTATGACACTACTTCGTGGCGAACTCGAGCACTTCTCGGCAAGTCAAACTCATTTCGATAGTTTCCCGCAGCGG
TTACGTTTTGGCTAGATTCGCCGAGGTTCGCATGAAGGGTGACTTTAAAATGCCCATGAAACCGAGAATTGGTCATGTAACTCTGG
CGTCGAGAGATATTGAATACGTCTTAACTGCAGTATCACCGGCCAAGAACATCAGACTCAATATTGTAGAAAGGGCTAGAT
ACCGCGAGAACGCCAGGAATCTCAGGCCTGAAGTATAGCTTTTCCCTGTGCTATCGTTCGGTCCTCAAGCGGAGGACCAGACCGC
TGCTAGCGGCCCTGCAGGTTCCTACAACTCTAGCCGACCGCTTCCTCCGTGTCGCAATAATACGCGATTGTCTTTTGAGCTGGAGGAAG
CGCTCACCCTCTCCTTACTAGGACACGTAGTAAAGCTCACCTTGACTGTTTTGTCAGCCTCGACACAGGCTTGTGTGAGTTCGGAAA
ATACCTGATTAACTCCTGCGCTATTCATGGGAGAGTTGACGCCACAAACACCCGTTAAAGCCCGTGGGCATCTCCGGTATAACATGGCCGAAAATTCCAA
CTCATCGTGGGTGTCTTACCAACCTTGTATTTTCGGGAAGATTGACAGCACTGAATACGGTGGGTATACCTTATGAAAAAGTTCGGTCTCTGCAAC
ATGCCAGGACATTGTCAATCATGTCCATGATTGGGCTAGGAAAGTAGGATCAGTGGCGATAGTAAAAAGGGTATCGGCGA
ATAAGAACACACTTAGATAACCACTTTTAGTGAAGAGCAAGGGACGTTAATGCTTACAGCGTAAAAGTGTTGCACGCCTCGC
AGCCATGTTCTTTGCACATGTTAGGACGTATTCAACGGCGCCATTTTTATTAAACTGCTGGGCATCGTTGGCAGGCACCCATGCCT
AAGTAGCATTGCATCTACTTATTCTTTGACCAAGTGGTCTCCCACACTGTCGGGACGTATTAGTATACACCGGGCTACACTAA
AAGGAAGGACAGGCCCGTTATTCTTCCAGGTGTTAACAGTAATTAGGATTAACCTGACTAGTTGAGGTGCGATCGATCGG
TAACCAGAAGTGATCTGGTACTGTAGAAGGGGCAGCGAACGAACAAGCCGTACTTCAGGGGGACGAACAGCTTTAGACGA''')


